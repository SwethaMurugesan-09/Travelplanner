(this.$WP=this.$WP||[]).push(["0clovu",(e,a)=>{var i,r,t,n,o,l,s,d,c,_,u,p,v,h,I,m,E,C,f,T,b,L,w,g,A,N,y,R,P,V,W,D,O,S,k,x,M,H,G,K,Y,$,U,z,F,B,Q,q,j,X,Z,J,ee,ea,ei,er,et,en,eo,el,es,ed,ec,e_=(e,a,i,r)=>{var t={...a};r&&0!==Object.keys(r).length&&Object.entries(r).forEach(([e,a])=>{t[e]=a});var n=t.compoundMediaId?t.compoundMediaId.id:t.mediaId||"",o=`${n}|${t?.providerName||""}${t?.providerName?"|":""}${t.albumId}|${t.categoryId}|${t.typeId}`,l=`${t.albumId}|${t.categoryId}|${t.typeId}`,s={module:"mediaviewer",action:e,value:t.locationId};switch(e){case ee.MV_OPEN:i(s);break;case ee.DETAIL_VIEW:i({...s,context:o});break;case ee.GALLERY_VIEW:i({...s,context:t.isMWRedesign?o:l});break;case ee.GALLERY_VIEW_PHOTOS_SEEN:i({...s,context:`${t.photosSeen||0}`});break;case ee.DETAIL_VIEW_IMAGE_CLICK:i(s);break;case ee.DETAIL_VIEW_DISMISS:i({...s,context:t.mvDetailViewCloseType});break;case ee.DETAIL_VIEW_IMAGE_TAP_HIDE:i(t.isMWRedesign?{...s,context:t.detailsWereShown?"show":"hide"}:s);break;case ee.DETAIL_VIEW_IMAGE_TAP_SHOW:case ee.DETAIL_VIEW_GALLERY_CLICK:i(s);break;case ee.DETAIL_VIEW_PHOTOSTRIP_TILE_CLICK:i({...s,context:o});break;case ee.CLOSE_CLICK:i(s);break;case ee.GALLERY_VIEW_THUMBNAIL_CLICK:i({...s,context:t.isMWRedesign?`${String(t.tileDetails?.offset)}|${String(t.tileDetails?.mode)}|${o}`:o});break;case ee.GALLERY_VIEW_CATEGORY_CLICK:i({...s,context:`${t.categoryId}`});break;case ee.GALLERY_VIEW_ALBUM_CLICK:i({...s,context:`${t.albumId}`});break;case ee.GALLERY_VIEW_TYPE_CLICK:i({...s,context:`${t.typeId}`});break;case ee.HELPFUL_VOTE_CLICK:i({...s,context:o});break;case ee.IMAGE_ARROW_CLICK:case ee.PHOTOSTRIP_ARROW_CLICK:i(s);break;case ee.REPORT_PANEL_SHOWN:i({...s,module:"Report_IAP",context:"photo_whats_wrong_aef"});break;case ee.CAPTION_REVIEW_CLICK:case ee.DETAIL_VIEW_IMAGE_SWIPE:i(s);break;case ee.DETAIL_VIEW_REVIEW_CLICK:i({...s,context:`${n}`});break;case ee.DETAIL_VIEW_PANO_DETAIL:i({...s,context:t.panoWasOpened?"show":"hide"});break;case ee.DETAIL_VIEW_REVIEW_SCROLL:case ee.DETAIL_VIEW_REVIEW_TRAY_EXPANSION:case ee.GALLERY_VIEW_SCROLL_ENGAGEMENT:i(s);break;case ee.SOURCE_FILTER_CLICK:case ee.SEE_ALL_FILTERS_CLICK:case ee.HIDE_FILTERS_CLICK:case ee.GRID_VIEW_CLICK:case ee.FLEXGRID_VIEW_CLICK:i({...s,context:l});break;case ee.GRID_VIEW_ITEM_CLICK:i({...s,context:o});break;case ee.VIEW_GALLERY_BUTTON_CLICK:i({...s,context:l});break;case ee.ADVANCED_FILTER_CLICK:i({...s,context:`${t.categoryId}`});break;case ee.SORT_TYPE_CHANGE:t.sort&&i({...s,context:`${t.sort}`});break;default:console.error("Invalid page action provided: ",e)}},eu=()=>{var e=n(J),a=y(),i=JSON.stringify(e);return o((e,r)=>e_(e,JSON.parse(i),a,r),[i,a])},ep=e=>{var a=(e%6e4/1e3).toFixed(0);return`${Math.floor(e/6e4)}:${10>Number(a)?"0":""}${a}`},ev=e=>{var a=e?.videoSources?.[0]?.duration||0;return r("div",{className:"zIiRQ Z1 _Q",children:i("div",{className:"TQaIO _Q C4",children:[r(R,{}),r("span",{className:"xAtOD",children:a?` ${ep(a)}`:""})]})})},eh=(e,a,i)=>{if(a&&e.loading||!e)return r(V,{size:"small"});if(i){if("video_small"===i)return ev(e);if("video_large"===i)return ei;if("pano"===i)return ea}switch(e.type){case"v":return ev(e);case"pano":case"p360":return ea;default:return null}},eI={wrapper:"f k",date:"ZVoFr n",providerAttributionUrl:"mEkZD Cf"},em=(e,a)=>{var i=k();switch(e){case"AI":case"CREATOR":case"OWNER":return null;case"STAFF":return`${i}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`;default:return a}},eE=({supplierCategory:e,provider:a,userPhotoUrl:n,userProfileUrl:o,userName:l,uploadedDate:s,hometown:d,contributionCount:c,type:_,attributionUrl:u,businessContact:p,controls:v})=>{var h=b(),I="TRAVELER"===e,m=s?`${h.formatDate("date_medium_month_year",new Date(s))}`:"",{localize:f}=L(),T=em(e,n),g=null===T&&("OWNER"===e||"AI"===e||"CREATOR"===e),A=l,N=!1;if("OWNER"===e){N=!0;var y=a?.name;if(y&&C.has(y)){if("BOOKINGCOM"===y)return i("div",{className:eI.wrapper,children:[i("div",{children:[r("a",{href:u,target:"_blank",children:r("div",{className:eI.providerAttributionUrl,children:i(E,{elementType:"div",variant:"title-05",color:"onDarkText",children:[f("Photo provided by {0}{1}","Photoviewer_dmoPhotoCaption_v2",{0:String(C.get(y)),1:""}),r(x,{})]})})}),r("span",{className:eI.date,children:m})]}),v]});A=f.string("Management","Photoviewer_mgmtFilter")}else A=f.string("Management","Photoviewer_mgmtFilter")}else if("STAFF"===e)A=f.string("Photo commissioned by Tripadvisor","phoenix_mediaviewer_professional_attribution");else{if(I&&!A)return null;"AI"===e&&(A=f.string("This video summary was assembled with the help of AI, using recent traveller reviews and user-provided photos.","media_gallery_video_test_disclaimer"))}"pano"===_&&(A=f.string("Photo commissioned by Tripadvisor","phoenix_mediaviewer_professional_attribution"),N=!1);var R=`${A||""}${m&&` • ${m}`}`,P=N&&p&&p(),V=I&&i(E,{elementType:"div",variant:"supporting-01",color:"onDarkText",marginRight:"spacing-03",children:[!!d&&r("span",{children:d}),!!d&&!!c&&r("span",{children:"\xa0 • \xa0"}),!!c&&r(w,{id:"hotels_n_contributions_plural",args:{0:"",1:c},messages:"<span class=\"{0}\">{1}</span> {1, plural, one{contribution} other{contributions}}"})]}),W=i(t,{children:[P," ",V," "]});return i("div",{className:eI.wrapper,children:[r(M,{variant:"two-line",theme:"on-dark",profileInfo:[{displayName:R,avatarSource:T||void 0,profileHref:o||void 0}],suppressAvatar:g,additionalInfo1:W}),v]})},eC={wrapper:"qnGvM",slideoutUp:"kWQgV",rating:"prLLg",partialReview:"uAQKD W",caption:"Lblgn",source:"jTwNy",reviewParentContainer:"WBTsa _Q s _U",noPointerEvents:"KKgmN",reviewSlideoutContainer:"nvSUG _Q s",topArea:"wRGmw",noDrag:"UGmCR",reviewWroteDate:"nlMdx",contributionCount:"IGLPk",closeButton:"FjyXT _Q _U",reviewTextArea:"HacNA",reviewTextAreaRating:"LyNMu",reviewText:"JOgTx _c",reviewTitle:"kZMaN b",dragIndicator:"NDnLU _Q Md"},ef="0.1s",eT=({caption:e,isPhotoOnly:a,review:n,userPhotoUrl:l,userProfileUrl:_,userName:u,uploadedDate:p,contributionCount:v,showOverlay:h,provider:m,parentHeight:E,disableSwipe:C=!1,trackingCallback:T})=>{var g=eu(),[A,N]=s(!1),[y,R]=s(et.HIDDEN),{localize:P}=L(),V=b(),W=m?.name,D=W&&f.get(W),O=!a&&!!n&&!!n?.title,S=!!e,k=O&&!!n?.text,x=d(null);c(()=>{k||R(et.HIDDEN)},[n,k]),c(()=>R(et.HIDDEN),[h]);var $=o(()=>{N(!0),R(et.DOWN),T?.("MediaViewer_ReviewClick"),g(ee.DETAIL_VIEW_REVIEW_CLICK)},[g,T]),U=o(()=>{T?.("MediaViewer_ReviewCloseClick"),R(et.HIDDEN),x.current&&(x.current.scrollTop=0),N(!1)},[T]),[z,F]=s(!1),B=d(null),[Q,q]=s(0),[j,X]=s(0),Z=()=>q(0),J=(e,a)=>{a&&(a.style.transitionDuration=ef,X(e))},ea=K(),ei=Y(),er=ea.width>=768&&!ei,eo=n?.rating;if(S&&!O)return i("div",{className:eC.caption,children:[r("div",{children:e}),D?r("span",{className:eC.source,children:P("Source: {sourceName}","mediaviewer_mediasource",{sourceName:D})}):null]});var el=B.current?en.getTranslation(B.current.clientHeight,j,y):"translateY(100%)",es=B.current?en.getTextAreaHeight(B.current.clientHeight,j,y):"auto",ed=en.getOpacity(y);return i("div",{className:I(eC.wrapper,A?eC.slideoutUp:null),onClick:$,children:[!!eo&&r("div",{className:eC.rating,children:r(H,{rating:eo})}),k?i(t,{children:[r("div",{className:eC.partialReview,children:n?.text}),r("div",{className:I(eC.reviewParentContainer,A?null:eC.noPointerEvents),onClick:e=>{e.stopPropagation(),U()},onTouchStart:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),onTouchEnd:U,style:{height:E},children:i("div",{className:I(eC.reviewSlideoutContainer),ref:e=>{B.current=e},onTouchStart:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),style:{transform:el,opacity:ed},children:[i("div",{className:I(eC.topArea,er||C?eC.noDrag:null),onTouchStart:C?void 0:e=>{e.stopPropagation(),1===e.touches.length&&(F(!0),q(e.touches[0].clientY))},onTouchMove:C?void 0:e=>{if(z&&B.current){var a=e.touches[0].clientY-Q;(a>=0||!er)&&(B.current.style.transitionDuration=ef,J(a,B.current))}},onTouchEnd:C?void 0:e=>{e.stopPropagation(),F(!1),B.current&&(B.current.style.transitionDuration="0.3s"),j>100?U():j<0&&!er&&(R(et.UP),g(ee.DETAIL_VIEW_REVIEW_TRAY_EXPANSION)),Z(),X(0)},children:[!er&&r("div",{className:eC.dragIndicator}),r(M,{variant:"three-line",profileInfo:[{displayName:u||P.string("A Tripadvisor member","mediaviewer_a_tripadvisor_member_capitalized"),avatarSource:l||void 0,profileHref:_||void 0}],additionalInfo1:r("span",{className:eC.reviewWroteDate,children:`${P.string("Wrote a review {date}","mediaviewer_wrote_a_review",{date:p?`${V.formatDate("date_medium_month_year",new Date(p))}`:""})}`}),additionalInfo2:r("span",{className:eC.contributionCount,children:!!v&&r(w,{id:"hotels_n_contributions_plural",args:{0:"",1:v},messages:"<span class=\"{0}\">{1}</span> {1, plural, one{contribution} other{contributions}}"})})}),r("div",{className:eC.closeButton,onClick:e=>{e&&e.stopPropagation(),U()},children:r(G,{})})]}),i("div",{className:eC.reviewTextArea,ref:e=>{x.current=e},onTouchEnd:e=>{e&&e.stopPropagation(),g(ee.DETAIL_VIEW_REVIEW_SCROLL)},style:{height:es},children:[!!eo&&r("div",{className:eC.reviewTextAreaRating,children:r(H,{rating:eo})}),i("div",{className:eC.reviewText,children:[r("span",{className:eC.reviewTitle,children:n?.title}),r("p",{children:n?.text})]})]})]})})]}):r("div",{className:eC.partialReview,children:n?.title})]})},eb={__key:0xa67993f2fa0b,id:"a67993f2fa0b786f",loc:{},definitions:[]},eL={__key:0xda4661bf6210,id:"da4661bf62103986",loc:{},definitions:[]},ew="tVBNj PE Pc",eg="AwJym",eA="MyzfW H0 PP",eN=()=>{var[,e]=B(eL);return o((a,i)=>{e({locationId:a,mediaId:i}).then(e=>{if(e.error){console.error("SetPrimary call failed: ",e.error);return}var a=e.data?.PrimaryMedia_setStaffPrimaryMedia?.[0];a?.status==="ok"?alert("Success! Your new primary photo selection will take effect."):a?.status==="higherPriorityExist"&&a?.message&&alert(`Your curated photo selection has been saved, but it will not be shown. The current primary photo source is ${a?.message}, which is higher priority.`)})},[e])},ey=({locationId:e,mediaId:a})=>{var{localize:t}=L(),[n,o]=s(!1),l=eN(),d=t.string("Set as primary","set_primary_btn_label"),c=t.string("Thank you","set_primary_btn_success");return r("div",{className:ew,children:r(j,{variant:"secondary",size:"small",disabled:n,onClick:()=>{l(e,a),o(!0)},children:i("span",{className:eg,children:[r("span",{className:eA,children:r(Z,{})}),n?c:d]})})})},eR=({mediaId:e})=>{var[a,t]=s(!1),n=o(()=>{navigator.clipboard.writeText(String(e)).then(()=>t(!0))},[e]);return r("div",{className:ew,children:r(j,{variant:"secondary",size:"small",disabled:a,onClick:n,children:i("span",{className:eg,children:[r("span",{className:eA,children:r(X,{})}),a?"Copied":"Copy media ID"]})})})},eP=({mediaId:e})=>{var a=Q(),n=q(),[{data:o}]=F({query:eb,pause:null===n});if(!o?.getProfile?.canSetPrimary)return null;var l=0;return("Tourism"===a.page?l=a.params.geoId:"Hotel_Review"===a.page?l=a.params.detailId:("AttractionProductReview"===a.page||"Attraction_Review"===a.page)&&a.params.detailId&&(l=a.params.detailId),0===l||e<1)?null:i(t,{children:[r(ey,{locationId:l,mediaId:e}),r(eR,{mediaId:e})]})},eV={wrapper:"oOTRI",buttonContainer:"Ntyrm f u I",helpfulButton:"wNwSc _S H2 Vm b",reportButton:"WSMnQ _S"},eW=({helpfulCount:e,mediaId:a,locationId:t,mediaWithHelpfulVote:n,providerName:l,mediaType:s,displayReportBtn:d=!0,displayHelpfulBtn:c=!0,trackingCallback:_})=>{var u=eu(),p=z(),v=o(()=>{fetch(`/VideoController?a=vt&ff=${a}&vote=5&detail=${t}`,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-By":encodeURIComponent(p)},credentials:"same-origin"}),n&&n.add(a),_?.("MediaViewer_HelpfulReviewVoteClick"),u(ee.HELPFUL_VOTE_CLICK,{providerName:l})},[p,t,a,n,l,u,_]),h=!1;"p"===s?h="Photo":"v"===s&&(h="Video");var I=o(()=>{_?.("MediaViewer_ReportReviewClick"),u(ee.REPORT_PANEL_SHOWN)},[u,_]);return r("div",{className:eV.wrapper,children:i("div",{className:eV.buttonContainer,children:[c?r("div",{className:eV.helpfulButton,onClick:v,children:r($,{count:e,alreadyVoted:n&&n.has(a),onClick:v,showHelpfulText:!1})}):null,d&&h?r("div",{className:eV.reportButton,children:r(U,{contentId:a,contentType:h,onClick:I,hideTitle:!0})}):null,r(el,{mediaId:a})]})})},eD={mainContainer:"jnVMO",imageParentContainer:"vnQks",swipeContainer:"afDxN",visibilityContainer:"KzSsT",imageViewer:"WjTcr",imageLayoutContainer:"Gwltj F0",imageContainer:"PvuVr u F0",panoContainer:"auTSm u F0 _S",photo360Container:"EQQVl u F0 _S",detailContainer:"yylSn Cf s V",hidden:"Y S",upperControlsWrapper:"nlMDx Cf",upperControls:"pzMWZ QA u Q3",goBackNode:"qecZS",reviewPlaceholder:"plKkR",panoViewerOverlay:"ENXiD",panoViewerTopArea:"HKjKC",backFromPanoViewer:"mprJp Cf _S"},eO=({media:e,onSwipeLeft:a,onSwipeRight:t,onFullscreenMedia:n,totalMediaInfo:l,goBackNode:_,locationId:v,mediaWithHelpfulVote:C,exit:f,shareUrl:b,innateTranslations:w=!0,businessContact:N,isActiveViewer:y=!0,trackingCallback:R,onVideoTimeUpdate:P})=>{var V,{family:k}=W().browser,x=eu(),M=e=>{R&&R(e)},H=d(null),[G,K]=s(!0),[Y,$]=s(!1),[U,z]=s(!1),[F,B]=s(!1),[Q,q]=s(!1),[j,X]=s("undefined"!=typeof window?window.innerHeight:0),{localize:Z}=L();c(()=>{var e=()=>{H.current&&X(H.current.clientHeight)};return document.addEventListener("transitionend",e),()=>{document.removeEventListener("transitionend",e)}},[]);var J=e.mediaId&&e.mediaId<0,ea="pano"===e.type,ei="p360"===e.type,et="v"===e.type,en=o(e=>{n&&n(e)},[n]),el=o(()=>{en(!1),x(ee.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:!1}),Y&&$(!1)},[en,Y,x]),e_=o(()=>{en(!1),x(ee.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!1}),U&&z(!1)},[en,U,x]),ep=m(e=>{q(e)},-20);c(()=>{!Q&&ea&&Y?el():!Q&&ei&&U&&e_()},[Q,ea,ei,et,Y,el,U,e_]);var ev=e.provider?.name;c(()=>{x(ee.DETAIL_VIEW,{compoundMediaId:{id:e.mediaId,type:e.type},providerName:ev})},[e.mediaId,ev,e.type,x]);var eI=d(!1),em=o(()=>{eI.current=!0},[]),eE=o(()=>{eI.current=!1},[]),eC=u(()=>e=>{e.preventDefault(),eI.current&&(eI.current=!1,K(e=>!e))},[]);c(()=>{x(ee.DETAIL_VIEW_IMAGE_TAP_HIDE,{isMWRedesign:!0,detailsWereShown:G})},[G,x]);var ef=d(!1),eT=o(()=>{ef.current=!0},[]),eb=o(()=>{ef.current=!1},[]),eL=u(()=>e=>{e&&e.preventDefault(),"IE"!==k&&ef.current&&(ef.current=!1,$(e=>(en(!e),!e)))},[k,en]);c(()=>{x(ee.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:Y})},[Y,x]);var ew=d(!1),eg=o(()=>{ew.current=!0},[]),eA=o(()=>{ew.current=!1},[]),eN=u(()=>e=>{e&&e.preventDefault(),ew.current&&(ew.current=!1,z(e=>(x(ee.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!e}),en(!e),!e)))},[en,x]),ey=e.supplierCategory?e.supplierCategory:"OWNER",eR=e.userProfile?.avatar?.photoSizes?.[1]?.url;!eR&&e.userProfile?.avatar?.photoSizes?.[0]?.url&&(eR=e.userProfile?.avatar?.photoSizes?.[0]?.url);var eP=e.uploadDate,eV=e.userProfile?.hometown?.location?.additionalNames.long,eW=e.userProfile?.contributionCounts?.sumAllUgc,eO=i("div",{className:I(eD.detailContainer,G?null:eD.hidden),children:[r(er,{supplierCategory:ey,provider:e.provider,userPhotoUrl:eR,userProfileUrl:e.userProfile?.route?.url,userName:e.userProfile?.displayName,uploadedDate:eP,hometown:eV,contributionCount:eW,type:e.type,attributionUrl:e.providerAttributionUrl,businessContact:N,controls:y&&r(es,{helpfulCount:e.thumbsUpVotes||0,locationId:v,mediaId:e.mediaId,mediaWithHelpfulVote:C,providerName:e.provider?.name,mediaType:e.type,displayReportBtn:!J&&!ea&&!ei&&!(ev&&T.has(ev)),displayHelpfulBtn:!(ea||ei||J)&&void 0!==e.thumbsUpVotes&&null!==e.thumbsUpVotes,trackingCallback:R})}),e.review||e.caption?r(eo,{disableSwipe:!0,caption:e.caption,isPhotoOnly:e.review?.isPhotoOnly,review:e.review,userPhotoUrl:eR,userProfileUrl:e.userProfile?.route?.url,userName:e.userProfile?.displayName,uploadedDate:eP,contributionCount:eW,showOverlay:G,provider:e.provider,parentHeight:j,trackingCallback:R}):r("div",{className:eD.reviewPlaceholder})]}),eS=()=>{var a,t;return e.review?.id&&!e.review.isPhotoOnly?(t="review",a=e.review.id):"p"===e.type?(t="photo",a=e.mediaId):"v"===e.type&&(t="video",a=e.mediaId),r("div",{className:I(eD.upperControlsWrapper,{[eD.hidden]:!G}),children:i("span",{className:eD.upperControls,children:[r(E,{variant:"supporting-01",elementType:"span",color:"onDarkText",children:Z("{0} of {1}","hotels_mobile_xofy",{0:l.selectedIndex+1,1:l.totalCount})}),b&&r(D,{url:b,alignEdge:"right",itemId:`${v}`,itemType:"media",shiftY:2,hideText:!0,disableMcidTracking:!0,onClick:()=>M("MediaViewer_ShareClick")}),!J&&e.provider?.name!=="BOOKINGCOM"&&null!=t&&null!=a&&r(O,{type:t,id:a,size:"small",variant:"clear-on-dark",position:"static",onClick:()=>M("MediaViewer_SaveClick")},e.mediaId)]})})},ek=_&&r("div",{className:I(eD.goBackNode,G?null:eD.hidden),children:_}),[ex,eM]=s(!1),eH={x:0,y:0},[eG,eK]=s(eH),[eY,e$]=s(eH),eU=()=>eK(eH),[ez,eF]=s(null),eB=e=>{1===e.touches.length&&(eM(!0),eK({x:e.touches[0].clientX,y:e.touches[0].clientY}))},eQ=(e,a,i,r)=>{if(r){if("x"===e){var t,n=0;a>0&&l.selectedIndex>0?n=Math.min(a,60):a<=0&&l.selectedIndex+1<l.totalCount&&(n=Math.max(a,-60)),r.style.transform=`translateX(${n}px`}else t=i>0?Math.min(i,60):Math.max(i,-60),r.style.transform=`translateY(${t}px`}},eq=e=>{if(eE(),eb(),eA(),ex){var a=e.touches[0].clientX-eG.x,i=e.touches[0].clientY-eG.y;ez||(Math.abs(a)+5>=Math.abs(i)?eF("x"):eF("y")),w&&eQ(ez,a,i,H.current),"x"===ez?e$({x:a,y:0}):e$({x:0,y:i})}},ej=()=>{eM(!1),"x"===ez?(eY.x<-50&&a(),eY.x>50&&t()):"y"===ez&&Math.abs(eY.y)>80&&f&&f(),H.current&&(H.current.style.transform=""),eU(),eF(null)};if(ea)V=(({mediaId:a,cdnPath:t})=>Y&&t?r(ed,{uniqueId:"MediaViewer_MWRedesign",oysterCdnPath:t,format:"OYSTER_LEGACY",mediaId:a,className:eD.panoViewerOverlay,children:r("div",{className:eD.panoViewerTopArea,children:r("span",{className:eD.backFromPanoViewer,onClick:()=>{en(!1),x(ee.DETAIL_VIEW_PANO_DETAIL,{panoWasOpened:!1}),$(!1)},children:r(g,{})})})}):i("div",{className:eD.mainContainer,children:[r("div",{className:eD.imageParentContainer,onTouchStart:em,onTouchEnd:eC,onMouseDown:em,onMouseUp:eC,children:r("div",{className:eD.swipeContainer,onTouchStart:eB,onTouchEnd:ej,onTouchMove:eq,children:r("div",{className:eD.imageViewer,ref:e=>{H.current=e},children:i("div",{className:eD.imageLayoutContainer,children:[eh(e),r("div",{className:eD.panoContainer,onTouchStart:()=>{eT(),eE()},onTouchEnd:e=>{eL(e),ej()},onClick:e=>{ef.current=!0,eL(e),ej()},children:r(h,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})]})})})}),eS(),eO,ek]}))(e);else if(ei)V=(({mediaId:a,photoSizes:t,photo360Format:n})=>U&&a&&t&&t.length&&n&&"SPHERE"===n?r(ed,{uniqueId:"MediaViewer_MWRedesign",photo360Sizes:t,format:"PHOTO_360_SPHERE",mediaId:a,className:eD.panoViewerOverlay,children:r("div",{className:eD.panoViewerTopArea,children:r("span",{className:eD.backFromPanoViewer,onClick:()=>{en(!1),x(ee.DETAIL_VIEW_PHOTO_360_DETAIL,{photo360WasOpened:!1}),z(!1)},children:r(A,{})})})}):i("div",{className:eD.mainContainer,children:[r("div",{className:eD.imageParentContainer,onTouchStart:em,onTouchEnd:eC,children:r("div",{className:eD.swipeContainer,onTouchStart:eB,onTouchEnd:ej,onTouchMove:eq,children:r("div",{className:eD.imageViewer,ref:e=>{H.current=e},children:i("div",{className:eD.imageLayoutContainer,children:[eh(e),r("div",{className:eD.photo360Container,onTouchStart:()=>{eg(),eE()},onTouchEnd:e=>{eN(e),ej()},onClick:e=>{ew.current=!0,eN(e),ej()},children:r(h,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1},e.mediaId)})]})})})}),eS(),eO,ek]}))(e);else if(et){var eX=e.supplierCategory&&["AI","CREATOR","CREATOR_PILOT"].includes(e.supplierCategory)||!1;V=i("div",{className:eD.mainContainer,children:[r("div",{className:eD.imageParentContainer,children:r("div",{className:eD.swipeContainer,onTouchStart:eB,onTouchEnd:ej,onTouchMove:eq,children:r("div",{className:eD.imageViewer,children:r(ec,{selectedMedia:e,autoplay:eX,muted:eX,loop:!eX,pause:!y||!Q,inactivityTimeout:0,userIsActive:F&&y,onTimeUpdate:P,onPlay:()=>{B(!0),K(!1)},onPause:()=>{B(!1),K(!0)},onFullscreenChange:e=>en(e),showControls:G,poster:(()=>{if(e.photoSizes?.length){var a=e.photoSizes.find(({width:e})=>e>600)??e.photoSizes[e.photoSizes.length-1];return a.width>400?a.url:void 0}})()},e.mediaId)})})}),eS(),eO,ek]})}else V=i("div",{className:eD.mainContainer,children:[r("div",{className:eD.imageParentContainer,onTouchStart:em,onTouchEnd:eC,onMouseDown:em,onMouseUp:eC,children:r("div",{className:eD.swipeContainer,onTouchStart:eB,onTouchEnd:ej,onTouchMove:eq,children:r("div",{className:eD.imageViewer,ref:e=>{H.current=e},children:r("div",{className:eD.imageLayoutContainer,children:r("div",{className:eD.imageContainer,children:r(h,{source:e.photoSizes,width:"100%",height:"100%",letterbox:!0,lazy:!1,alt:e.caption},e.mediaId)})})})})}),eS(),eO,ek]});return r("div",{className:eD.visibilityContainer,ref:e=>{ep.current=e},children:r(S,{children:r(p,{children:V})})})};return[()=>{J=l({albumId:101,categoryId:101,locationId:0,typeId:0}),ee=N({MV_OPEN:"mediaviwer_open",DETAIL_VIEW:"detail_view",GALLERY_VIEW:"grid_view",GALLERY_VIEW_PHOTOS_SEEN:"grid_view_photos_seen",DETAIL_VIEW_DISMISS:"detail_view_dismiss",DETAIL_VIEW_IMAGE_CLICK:"detail_view_desktop_image_click",DETAIL_VIEW_IMAGE_TAP_HIDE:"detail_view_hide_nav_click",DETAIL_VIEW_IMAGE_TAP_SHOW:"detail_view_show_nav_click",DETAIL_VIEW_GALLERY_CLICK:"detail_view_gallery_click",DETAIL_VIEW_PHOTOSTRIP_TILE_CLICK:"detail_view_photostrip_tile_click",CLOSE_CLICK:"mediaviewer_close_click",GALLERY_VIEW_THUMBNAIL_CLICK:"grid_view_thumbnail_click",GALLERY_VIEW_CATEGORY_CLICK:"grid_view_category_click",GALLERY_VIEW_ALBUM_CLICK:"grid_view_album_click",GALLERY_VIEW_TYPE_CLICK:"grid_view_type_click",HELPFUL_VOTE_CLICK:"helpful_vote_click",IMAGE_ARROW_CLICK:"detail_view_image_arrow_click",PHOTOSTRIP_ARROW_CLICK:"detail_view_photostrip_arrow_click",REPORT_PANEL_SHOWN:"Panel_Shown",CAPTION_REVIEW_CLICK:"detail_view_caption_review_click",DETAIL_VIEW_IMAGE_SWIPE:"detail_view_image_swipe_click",DETAIL_VIEW_REVIEW_CLICK:"detail_view_review_click",DETAIL_VIEW_PANO_DETAIL:"detail_view_pano_detail",DETAIL_VIEW_PHOTO_360_DETAIL:"detail_view_photo_360_detail",DETAIL_VIEW_REVIEW_SCROLL:"detail_view_review_scroll",DETAIL_VIEW_REVIEW_TRAY_EXPANSION:"detail_view_review_tray_expansion",GALLERY_VIEW_SCROLL_ENGAGEMENT:"grid_view_scroll_engagement",SOURCE_FILTER_CLICK:"mv_photos_from_source_with_count",SEE_ALL_FILTERS_CLICK:"mv_see_all_filters",HIDE_FILTERS_CLICK:"mv_hide_filters",ADVANCED_FILTER_CLICK:"mv_advanced_filter_applied",GRID_VIEW_CLICK:"mv_standard_grid_icon",FLEXGRID_VIEW_CLICK:"mv_flexgrid_icon",GRID_VIEW_ITEM_CLICK:"mv_standard_grid_view_thumbnail_click",VIEW_GALLERY_BUTTON_CLICK:"mv_view_gallery_from_detail_view",SORT_TYPE_CHANGE:"mv_photos_sort_change"}),ea=i("div",{className:"C4",children:[r("span",{className:"gETUm _Q S",children:r(P,{})}),r("div",{className:"bWHpb _Q b c S",children:"360"})]}),ei=r("div",{className:"lpsgn _Q C4 Z1",children:r("span",{className:"LjEDz _Q",children:r(R,{})})}),er=eE,et=N({UP:"up",DOWN:"down",HIDDEN:"hidden"}),en=N({getTranslation:(e,a,i)=>{switch(i){case et.HIDDEN:return`translateY(${e+a}px)`;case et.DOWN:return`translateY(${e/2+a}px)`;case et.UP:return`translateY(${a}px)`;default:return"translateY(100%)"}},getOpacity:e=>e===et.HIDDEN?"0":"1",getTextAreaHeight:(e,a,i)=>i===et.DOWN&&a>=0?`${e/2-104}px`:`${e-104}px`}),eo=eT,el=eP,es=eW,ed=v(()=>a("mpw0ws")),ec=v(()=>a("btvcu1")),e({M:_(eO),g:eh,t:ee,u:eu})},[e=>(i=e.jsxs,r=e.jsx,t=e.Fragment),e=>(n=e.useContext,o=e.useCallback,l=e.createContext,s=e.useState,d=e.useRef,c=e.useEffect,_=e.memo,u=e.useMemo,p=e.Suspense,v=e.lazy),e=>h=e.default,e=>I=e.default,e=>m=e.useVisibleEffect,e=>E=e.default,e=>(C=e.externalProviders,f=e.explicitlyCreditedProviders,T=e.noReportBtnProviders),e=>(b=e.useIntlFormatter,L=e.useLocalize,w=e.UnsafeLocalize),e=>g=e.default,e=>A=e.default,e=>N=e.readOnly,e=>y=e.useGARecorder,e=>R=e.default,e=>P=e.default,e=>V=e.LoadingSpinner,e=>W=e.useUserAgent,e=>D=e.default,e=>O=e.default,e=>S=e.ErrorBoundary,e=>k=e.useCdnPrefix,e=>x=e.default,e=>M=e.default,e=>H=e.BubbleRating,e=>G=e.default,e=>(K=e.useViewport,Y=e.useTouchEnabled),e=>($=e.HelpfulButton,U=e.ReportButton),e=>z=e.useSecurityToken,e=>(F=e.useQuery,B=e.useMutation),e=>Q=e.useRoute,e=>q=e.useUserId,e=>j=e.default,e=>X=e.default,e=>Z=e.default]]},["21h32l","o4yt4q","34bu7w","fkji80","3btuy0","essqvy","3w1vrt","7thqz4","i0z8n1","7nq86i","5vmpsm","32pwc7","ue4abb","v5ce81","l9qeu7","nnprhg","b9nflw","dpzonz","83pm0d","s6q22n","evvugf","dpmjfu","bkeq24","qkjm8h","bnv2ns","de5kvz","ahlu9q","mqwhqn","fgwvq1","52far5","jppfwt","d5rizv","8slqg9"]]);
