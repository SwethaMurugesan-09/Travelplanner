(this.$WP=this.$WP||[]).push(["axg15s",(e,r)=>{var a,t,i,n,c,d,s,l,o,h,m,f,g,p,v,b,u,_,P,y,x,D,T,N,C,L,I,k,S,E,M,A,H={hoverStateTrail:"gsZFw Fl",hoverPopoverContainer:"KtuQX _s",hoverThermometer:"jEbkJ",hoverDataContainer:"XITDE e",yAxis:"emcOn",yAxisLegends:"qDpWU Fl e",yAxisLegendItem:"FCkMo e",yAxisThermometer:"mHjRP Fl",topChartContainerPlaceHolder:"IHtcM",chartContainer:"amQUi",chartContent:"tfDJh",horizontalGrid:"OKRgF e",horizontalLine:"onVNY",barsContent:"xpPGI",barContainer:"AECrH o",monthDivider:"RtLRE",monthBreak:"beMRV q",verticalLine:"bAsAk",hoverLineContainer:"yevnc",hoverLine:"GIJtg",bar:"yprzz",enableCursorHover:"kYkPd",in:"pjUkX",out:"WbHmF",xAxisLegends:"QqDkp",xAxisLegendItem:"NNiDJ c e",xAxisLegendItemText:"zcYsU",xAxisTickMark:"RvtWn",tickMarkMarginRight:"dsjyx",tickMarkMarginLeft:"elGiF",chartFooterLegend:"dZgNm Fl",disclaimer:"mGNRM",footerLegendContainer:"HfykW",footerLegend:"ZwXlE",legendIcon:"GFWFf",sliderPaginatorContainer:"vLWfx Fl e",sliderPaginatorText:"EOzVn",bgGreen:"IpBgQ",bgYellow:"gfjJy",bgRed:"EwUyc",chartMainContainer:"WRxAq",justifyCenter:"kjFKg"},w=(e,r,a)=>0===e?0:e===a?98:(e-r)/(a-r)*80+18,R=(e,r,a)=>e<=r?"CHEAP":e>=a?"HIGH":"AVERAGE",z=(e,r,a,t,i,n)=>a<=1?0:a>n-6&&a<=n-1?e-r:t-4*i,F=({data:e,readonly:r,onDatesSelected:l,priceDisclaimerText:f,defaultCheckIn:p})=>{var{localize:v}=o(),P=h(),x=m(),{userAgentCategory:T}=D(),N=g(),{page:C}=b(),{geoId:k,detailId:S}=_(0),E="MOBILE"===x,M="TABLET"===T,[A,F]=n(0),[O,V]=n(e.allPriceDates[0]),[U,$]=n(0),[J,Q]=n("start"),[Z,ee]=n(!0),[er,ea]=n(0),[et,ei]=n(!1),[en,ec]=n(!1),ed=c(null),es=c(null),el=c(null),eo=I({in:Z,timeout:300}),eh=u(),em=eh.hotels?.defaultDates===!1,[ef,eg]=[e.allPriceDates.slice(0,e.allPriceDates.length/2),e.allPriceDates.slice(e.allPriceDates.length/2)],[ep,ev]=n(E?ef:e.allPriceDates);d(()=>{ev(E?e.allPriceDates.slice(0,e.allPriceDates.length/2):e.allPriceDates)},[E,e.allPriceDates]),d(()=>{et||en||(F(0),V(ep[0]),$(0),Q("start"))},[et,en,ep]);var eb=(r,a,t)=>{F(a),V(t),$(z(es.current?.clientWidth||0,el.current?.scrollWidth||0,a,r.currentTarget.offsetLeft,r.currentTarget.offsetWidth,e.allPriceDates.length)),a>=ep.length-6?Q("end"):a>3&&a<ep.length-6?Q("center"):Q("start")},eu=()=>{if(E||M||r)return null;var e=s.for(O.date),a=e.dayAfter();return l(e,a,O.price)},e_=e=>(F(0),$(0),Q("start"),ee(!0),"right"===e)?(ev(ef),V(ef[0]),0):(ev(eg),V(eg[0]),1),eP=()=>ea(()=>e_("right")),ey=()=>ea(()=>e_("left")),ex=y({onSwipedRight:eP,onSwipedLeft:ey,onSwipeStart:e=>{("Left"===e.dir||"Right"===e.dir)&&ee(!1)},onSwiped:e=>{("Left"===e.dir||"Right"===e.dir)&&N({actionType:"scroll",team:"Hotels",actionSubType:"PriceTrendsChart",itemName:`swiped${e.dir}`,page:C,geoId:k,locationId:S})}});return a(t,{children:[i(X,{readonly:r,hoverStateTrailRef:es,hoverPopoverRef:el,hoverPriceDate:O,leftPosition:E?0:U,mobilePosition:E?J:"start",lowPriceThreshold:e.lowPriceThreshold,highPriceThreshold:e.highPriceThreshold,onDatesSelected:l,setMouseInPopover:ei,userEnteredDates:em,defaultCheckIn:p}),a("div",{onMouseLeave:()=>{ec(!1)},onMouseEnter:()=>{ec(!0)},ref:ed,className:H.chartMainContainer,children:[i("div",{className:H.topChartContainerPlaceHolder}),a("div",{className:H.chartContainer,...ex,children:[i(G,{minPrice:e.minPrice,maxPrice:e.maxPrice}),a("div",{className:H.chartContent,children:[i(W,{}),i("div",{className:H.barsContent,children:ep.map((t,n)=>{var c=s.for(O.date),d=c.dayAfter(),l=v.string("Avg. {sPrice} /night, {nMonthStart}/{nDayStart} - {nMonthEnd}/{nDayEnd}","hsx_avg_price_on_date_range_fix",{sPrice:P.formatCurrencyInteger(t.price),nMonthStart:c.month,nDayStart:c.day,nMonthEnd:d.month,nDayEnd:d.day}),o=`${l} - ${v.string("Select date","HSX_select_date")}`;return a("div",{className:H.barContainer,onMouseEnter:e=>eb(e,n,t),children:[t.hasMonthDivider&&i(j,{priceDate:t}),A===n&&i(q,{}),i("div",{className:L(H.bar,{[H.in]:"entering"===eo||"entered"===eo,[H.out]:"exit"===eo||"exiting"===eo||"exited"===eo,[H.bgGreen]:"CHEAP"===R(t.price,e.lowPriceThreshold,e.highPriceThreshold)&&n===A,[H.bgYellow]:"AVERAGE"===R(t.price,e.lowPriceThreshold,e.highPriceThreshold)&&n===A,[H.bgRed]:"HIGH"===R(t.price,e.lowPriceThreshold,e.highPriceThreshold)&&n===A,[H.enableCursorHover]:!r}),style:{height:`${w(t.price,e.minPrice,e.maxPrice)}%`},onClick:eu,onKeyUp:e=>{"Enter"===e.code||"Space"===e.code&&t.price>0?eu():"Tab"===e.code&&t.price>0&&eb(e,n,t)},role:"button","aria-label":o,tabIndex:0})]},`PriceTrendsBar-${t.date}`)})}),i(B,{allPriceDates:ep})]})]})]}),E&&i(Y,{otherPageNumberOfDays:(0===er?eg:ef).length,selectedIndex:er,onSwipedLeft:ey,onSwipedRight:eP}),i(K,{isDesktop:"DESKTOP"===x,priceDisclaimerText:f})]})},X=({readonly:e,hoverStateTrailRef:r,hoverPopoverRef:t,leftPosition:n,mobilePosition:c,hoverPriceDate:d,lowPriceThreshold:m,highPriceThreshold:f,onDatesSelected:g,setMouseInPopover:p,userEnteredDates:v,defaultCheckIn:b})=>{var u=h(),{localize:_}=o(),P=s.for(d.date),y=P.dayAfter(),D=i(l,{variant:"title-05",color:"primaryText",elementType:"span",children:u.formatCurrencyInteger(d.price)});return i("div",{className:H.hoverStateTrail,style:{justifyContent:c},ref:r,children:a("div",{className:H.hoverPopoverContainer,ref:t,style:{left:n},onMouseLeave:()=>{p(!1)},onMouseEnter:()=>{p(!0)},children:[i("div",{className:L(H.hoverThermometer,{[H.bgGreen]:"CHEAP"===R(d.price,m,f),[H.bgYellow]:"AVERAGE"===R(d.price,m,f),[H.bgRed]:"HIGH"===R(d.price,m,f)})}),a("div",{className:H.hoverDataContainer,children:[i(l,{variant:"input-03",color:"primaryText",children:_("Avg. {sPrice} /night, {nMonthStart}/{nDayStart} - {nMonthEnd}/{nDayEnd}","hsx_avg_price_on_date_range_fix",{sPrice:D,nMonthStart:P.month+1,nDayStart:P.day,nMonthEnd:y.month+1,nDayEnd:y.day})}),!e&&!d.isCheckIn&&!(!v&&P===b)&&i(x,{variant:"primary",onClick:()=>g(P,y,d.price),children:_("Select date","HSX_select_date")})]})]})})},G=({minPrice:e,maxPrice:r})=>a("div",{className:H.yAxis,children:[a("div",{className:H.yAxisLegends,children:[i(O,{price:r}),i(O,{price:e+(r-e)/2}),i(O,{price:e})]}),i("div",{className:H.yAxisThermometer})]}),O=({price:e})=>{var r=h(),{localize:t}=o(),n=m();return a("div",{className:H.yAxisLegendItem,children:[i(l,{variant:"supporting-01",color:"secondaryText",children:r.formatCurrencyInteger(e)}),"DESKTOP"===n&&i(l,{variant:"supporting-02",color:"secondaryText",children:t("per night","base_daily_price_per_night")})]})},W=()=>a("div",{className:H.horizontalGrid,children:[i("div",{className:H.horizontalLine}),i("div",{className:H.horizontalLine}),i("div",{className:H.horizontalLine}),i("div",{className:H.horizontalLine}),i("div",{className:H.horizontalLine}),i("div",{className:H.horizontalLine})]}),j=({priceDate:e})=>{var r=h();return a("div",{className:H.monthDivider,children:[i("div",{className:H.monthBreak,children:i(l,{variant:"supporting-04",color:"placeholderText",children:r.formatDate("month_short",s.for(e.date).addMonths(-1).date)})}),i("hr",{className:H.verticalLine}),i("div",{className:H.monthBreak,children:i(l,{variant:"supporting-04",color:"placeholderText",children:r.formatDate("month_short",s.for(e.date).date)})})]})},q=()=>i("div",{className:H.hoverLineContainer,children:i("hr",{className:H.hoverLine})}),B=({allPriceDates:e})=>{var r=h(),{localize:t}=o(),n=m(),c="MOBILE"===n,d=parseInt(String(e.length/2),10),f=e.length-1,g=(e,r)=>e?0===r||r===d||r===f:"TABLET"===n?r%3==0:r%2==0;return i("div",{className:H.xAxisLegends,children:e.map((e,n)=>{var d=r.formatDate("date_medium_month",s.for(e.date).date);return g(c,n)&&a("div",{className:H.xAxisLegendItem,children:[i("hr",{className:L(H.xAxisTickMark,{[H.tickMarkMarginRight]:c&&0===n,[H.tickMarkMarginLeft]:c&&n===f})}),a("div",{className:H.xAxisLegendItemText,children:[i(l,{variant:"supporting-02",children:e.isCheckIn||e.isToday?i("b",{children:d}):d}),(e.isToday||e.isCheckIn)&&i("div",{className:H.justifyCenter,children:i(l,{whiteSpace:"nowrap",variant:"supporting-02",children:i("b",{children:e.isCheckIn?t("Check In","meta_check_in_c2b"):t("Today","HSX_today")})})})]})]},`PriceTrendsXAxis-${e.date}`)})})},K=({isDesktop:e,priceDisclaimerText:r})=>{var{localize:t}=o();return a("div",{className:H.chartFooterLegend,children:[e&&i("div",{className:H.disclaimer,children:i(v,{priceDisclaimer:r,variant:"supporting-01"})}),a("div",{className:H.footerLegendContainer,children:[a("div",{className:H.footerLegend,children:[i("div",{className:L(H.legendIcon,H.bgGreen)}),i(l,{variant:"supporting-02",children:t("Cheaper","hotels_price_heatmap_cheaper")})]}),a("div",{className:H.footerLegend,children:[i("div",{className:L(H.legendIcon,H.bgYellow)}),i(l,{variant:"supporting-02",children:t("Average","hotels_price_heatmap_average")})]}),a("div",{className:H.footerLegend,children:[i("div",{className:L(H.legendIcon,H.bgRed)}),i(l,{variant:"supporting-02",children:t("Higher","hotels_price_heatmap_higher")})]})]})]})},Y=({selectedIndex:e,otherPageNumberOfDays:r,onSwipedRight:t,onSwipedLeft:n})=>{var{localize:c}=o();return a("div",{className:H.sliderPaginatorContainer,children:[i(T,{numberOfItems:2,selectedIndex:e}),a("button",{type:"button",className:H.sliderPaginatorText,onClick:0===e?n:t,children:[1===e&&i(N,{}),a(l,{variant:"supporting-02",children:[0===e&&c("Next {numDays} days","HSX_next_x_days",{numDays:r}),1===e&&c("Last {numDays} days","HSX_last_x_days",{numDays:r})]}),0===e&&i(C,{})]})]})},V=(e,r)=>a=>{var{keyCode:t}=a;switch(t){case M:r(!1);break;case E:r(!0);break;case S:case k:r(!e)}},U=({title:e,open:r=!1,onClick:t})=>a("button",{type:"button",className:L("zMbwy Fh u",{nWtDa:r}),onClick:e=>{e.preventDefault(),e.stopPropagation(),t()},onKeyDown:V(r,t),children:[e,i("div",{className:L("SfkuT _S Cl",{IbQZD:r}),children:i(A,{size:20})})]}),$=({title:e,children:r,open:t=!1,onChange:n})=>a("div",{role:"group",className:"woOHq _c",children:[i(U,{title:e,open:t,onClick:()=>n(!t)}),i("div",{className:L({VqALy:!t}),children:r})]}),J={title:"RsWTk Fl f k",textContainer:"ZxkII f e",disclaimer:"dguIv e f Pj"},Q=({dataSize:e,price:r,lowPriceThreshold:t,highPriceThreshold:n,isMobile:c})=>{var{localize:d}=o(),s=R(r,t,n);return i("div",{className:J.title,children:a("div",{className:J.textContainer,children:[i(l,{variant:c?"title-04":"title-03",children:d("Price trends in the next {numDays} days","HSX_price_trends_in_the_next_x_days",{numDays:e})}),i(l,{variant:c?"supporting-01":"body-01",children:d("Prices are currently {sType, select, LOW {low} HIGH {high} other {average}} for your trip","hsx_price_trend_current",{sType:"CHEAP"===s?"LOW":s})})]})})},Z=({data:e,avgPrice:r,onClose:t,readonly:c=!1,onDatesSelected:d,checkInDate:l})=>{var h=m(),y="MOBILE"===h,x=p(),D=g(),{page:T}=b(),{geoId:N,detailId:C}=_(0),{localize:L}=o(),I=L.string("Reflects recent average nightly prices reported by our partners, and may not include estimated taxes or fees. Price at checkout may differ.","HSX_price_trends_default_disclaimer"),[k,S]=n(!1),E=u(),M=E.hotels?.defaultDates===!1,A=s.today().date;A.setDate(A.getDate()-A.getDay()+7),A.setDate(A.getDate()-A.getDay()+7);var H=s.for(A),w=ee(e,r,l),R=w?.allPriceDates.find(e=>e.date===H.ymd),z=M?w?.allPriceDates[0].price:R?.price,X=P(()=>{x({itemType:"page",itemName:"PriceTrendsModal",team:"Hotels",page:T,geoId:N,locationId:C,customData:{minPrice:w?.minPrice,maxPrice:w?.maxPrice}})}),G=w?.allPriceDates?w.allPriceDates.length-1:0,O=w&&a("div",{ref:X,children:[i(F,{data:w,readonly:c,onDatesSelected:(e,r,a)=>{var i=(t,i)=>{D({actionType:"click",team:"Hotels",actionSubType:t,itemName:i,page:T,geoId:N,locationId:C,customData:{checkIn:e.toISOString(),checkOut:r.toISOString(),priceSelected:a,origin:"PriceTrendsModal"}})};d&&(i(f.setDateRange,"dateRange"),i(f.setDates,"checkIn"),d(e,r)),t&&t()},priceDisclaimerText:I,defaultCheckIn:H}),(y||"TABLET"===h)&&i("div",{className:J.disclaimer,children:i(v,{priceDisclaimer:I,variant:y?"supporting-02":"supporting-01",color:y?"secondaryText":"placeholderText"})})]});return G>0&&i($,{title:i(Q,{dataSize:G,price:z??r,lowPriceThreshold:w?.lowPriceThreshold||0,highPriceThreshold:w?.highPriceThreshold||0,isMobile:y}),open:k,onChange:S,children:O})},ee=(e,r,a)=>{if(!e||0===e.length||!e[0]?.allPriceDates||e[0]?.allPriceDates?.length===0)return null;for(var t=e.flatMap(e=>e?e.allPriceDates:[]),i=s.for(t[0]?.date||s.today()),n=[],c=0;c<=30;)!function(){var e=i.addDays(c),d=t.find(r=>!!r?.date&&s.for(r.date).sameDay(e));n.push({date:d?.date||e.ymd,price:d?.price||r,isToday:e.sameDay(s.today()),isCheckIn:!!a&&e.sameDay(s.for(a)),hasMonthDivider:1===e.date.getDate()}),c++}();var d=Math.max(...e.map(e=>e&&e.highPriceThreshold?e.highPriceThreshold:0)),l=Math.max(...e.map(e=>e&&e.maxPrice?e.maxPrice:0));return{allPriceDates:n,highPriceThreshold:d,lowPriceThreshold:Math.min(...e.map(e=>e&&e.lowPriceThreshold?e.lowPriceThreshold:0)),maxPrice:l,minPrice:Math.min(...e.map(e=>e&&e.minPrice?e.minPrice:0))}};return[()=>{e("default",Z)},[e=>(a=e.jsxs,t=e.Fragment,i=e.jsx),e=>(n=e.useState,c=e.useRef,d=e.useEffect),e=>s=e.default,e=>l=e.default,e=>(o=e.useLocalize,h=e.useIntlFormatter),e=>m=e.useViewportCategory,e=>f=e.TrackingSubType,e=>(g=e.useHotelInteractionLogger,p=e.useHotelImpressionLogger),e=>v=e.PriceDisclaimer,e=>b=e.useRoute,e=>u=e.useTravelInfo,e=>_=e.useLocationId,e=>P=e.useOnVisible,e=>y=e.useSwipeable,e=>x=e.BorderlessButton,e=>D=e.useUserAgent,e=>T=e.default,e=>N=e.default,e=>C=e.default,e=>L=e.default,e=>I=e.default,e=>(k=e.KEY_ENTER,S=e.KEY_SPACE,E=e.KEY_DOWN,M=e.KEY_UP),e=>A=e.default]]},["21h32l","o4yt4q","fgi73t","essqvy","7thqz4","ys6v1o","h1hqsi","ctn2v9","hdzvbi","fgwvq1","etaac9","2tnrli","3btuy0","9w33la","jppfwt","nnprhg","d0lmv3","a6i9w3","6qmqhw","fkji80","sdpjgr","conwso","i0z8n1"]]);
